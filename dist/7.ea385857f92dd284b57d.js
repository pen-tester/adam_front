(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{eX83:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=function(){},o=u("o+xB"),i=u("KIzr"),s=u("Ip0R"),d=u("gIcY"),a=u("5d8+"),r=function(){function l(){}return l.prototype.transform=function(l,n){return l.filter(function(l){return l.status==a.a.user.status.inactive})},l}(),c=u("+9H+"),p=u("kmKP"),m=u("sE5F"),h=u("VCVX"),g=function(){function l(l,n,u,t){this.modalservice=l,this.userservice=n,this.http=u,this.phoneservice=t,this.show=!1,this.userupdated=new e.EventEmitter,this.is_show=!1,this.inphones=[],this.outphones=[],this.twilio_phones=[],this.phoneprefix="813",this.is_updating=!1,this.selected_twilio_number={}}return l.prototype.ngOnInit=function(){this.init()},l.prototype.init=function(){this.twilio_phones=[];try{this.select_user=JSON.parse(JSON.stringify(this.user)),this.is_show=this.show,this.inphones=this.select_user.phone.incoming,this.outphones=this.select_user.phone.outgoing,this.inphone=this.getActiveNumber(this.inphones),this.outphone=this.getActiveNumber(this.outphones)}catch(l){this.is_show=!1}},l.prototype.getActiveNumber=function(l){for(var n=l.length,u=0;u<n;u++){var e=l[u];if(e.status==a.a.user.phone.active)return e.phone}return""},l.prototype.ngOnChanges=function(l){console.log(l),this.init()},l.prototype.getindexofPhones=function(l,n){for(var u=n.length,e=0;e<u;e++)if(n[e].phone==l)return e;return-1},l.prototype.setPhoneStatusFormat=function(l){for(var n=l.length,u=0;u<n;u++)l[u].status=a.a.user.phone.inactive;return-1},l.prototype.update=function(){var l=this;this.componentRef=this.modalservice.openDialog("Question","Are you sure to update this user?"),this.componentRef.instance.button_clicked.subscribe(function(n){if(1==n){if(console.log("YES"),l.is_updating=!0,""!=l.inphone){var u=l.getindexofPhones(l.inphone,l.inphones);l.setPhoneStatusFormat(l.inphones),-1==u?l.inphones.push({phone:l.inphone,status:a.a.user.phone.active}):l.inphones[u].status=a.a.user.phone.active}""!=l.outphone?(u=l.getindexofPhones(l.outphone,l.outphones),l.setPhoneStatusFormat(l.outphones),-1==u?l.phoneservice.purchaseTwilioNumber(l.outphone).subscribe(function(n){var u=n.json();u.status==a.a.statuscode.success&&l.outphones.push({phone:l.outphone,status:a.a.user.phone.active,sid:u.data.sid}),l.updateuser()}):(l.outphones[u].status=a.a.user.phone.active,l.updateuser())):l.updateuser()}else console.log("No")})},l.prototype.updateuser=function(){var l=this,n=new m.d;n.set("Authorization","auth "+this.userservice.getUserSession()),n.set("Content-Type","application/json"),console.log("session",this.userservice.getUserSession());var u=new m.g({headers:n});console.log(u),this.http.post(a.b+"admin/user/update",{user:this.select_user},u).subscribe(function(n){var u=n.json();u.status==a.a.statuscode.success&&(console.log("data",u.data),l.is_show=!1,l.is_updating=!1,l.userupdated.emit("done"))},function(n){l.is_updating=!1})},l.prototype.removeInphone=function(l){var n=this;this.componentRef=this.modalservice.openDialog("Question","Are you sure to remove this phone?"),this.componentRef.instance.button_clicked.subscribe(function(u){if(1==u){console.log("YES");var e=n.inphones.indexOf(l);n.inphones.splice(e,1),console.log(n.inphones,e)}else console.log("No")})},l.prototype.removeOutphone=function(l){var n=this;this.componentRef=this.modalservice.openDialog("Question","This couldn't be recovered. Are you sure to remove this phone?"),this.componentRef.instance.button_clicked.subscribe(function(u){if(1==u){console.log("YES");var e=n.outphones.indexOf(l);n.phoneservice.releaseTwilioNumber(n.outphones[e]),n.outphones.splice(e,1)}else console.log("No")})},l.prototype.setoutphone=function(l){console.log(l),this.outphone=l.phoneNumber},l.prototype.refreshAvailNumbers=function(){var l=this;this.phoneservice.getTwilioAvailNumbers(this.phoneprefix).subscribe(function(n){var u=n.json();u.status==a.a.statuscode.success&&(l.twilio_phones=u.data),console.log(u)})},l.prototype.cancel=function(){this.is_show=!1,this.is_updating=!1,this.userupdated.emit("cancel")},l}(),v=e["\u0275crt"]({encapsulation:0,styles:[[".modal_area[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;background:rgba(0,0,0,.7);z-index:10000000}.modal_area[_ngcontent-%COMP%]   .modal_dialog[_ngcontent-%COMP%]{width:100%;max-width:720px;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:0;right:0;display:inline-block;margin:auto;border:1px solid #0275d8;border-radius:3px;box-shadow:2px 4px 3px rgba(0,0,0,.7),-1px -2px 3px rgba(0,0,0,.7);box-sizing:border-box}.modal_area[_ngcontent-%COMP%]   .modal_header[_ngcontent-%COMP%]{padding:10px;text-align:center;background:#0275d8;box-shadow:1px 3px rgba(0,0,0,.8);min-height:20px}.modal_area[_ngcontent-%COMP%]   .modal_content[_ngcontent-%COMP%]{margin-top:1px;padding:10px,30px;min-height:60px;background:#fff;color:#000}.modal_area[_ngcontent-%COMP%]   .modal_content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:20px}.modal_area[_ngcontent-%COMP%]   .modal_content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000}.modal_area[_ngcontent-%COMP%]   .modal_content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #999;color:#000}.modal_area[_ngcontent-%COMP%]   .modal_footer[_ngcontent-%COMP%]{padding:10px;background:#fff;border-top:1px solid #999;overflow:hidden}.modal_area[_ngcontent-%COMP%]   .modal_footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;margin:4px 15px;padding:5px;min-width:120px}.phonewrapper[_ngcontent-%COMP%]{margin:10px;padding:0;list-style:none;height:200px;border:1px solid #999;box-shadow:2px 3px 5px rgba(0,0,0,.7);overflow:auto}.phonewrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #333;background:#aaa;display:block;padding:10px}.phonewrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0275d8}.phoneprefix[_ngcontent-%COMP%]{border:1px solid #999;color:#000;border-radius:5px;background-color:rgba(255,255,255,.1);box-shadow:none;font-size:14px;padding:.5rem .75rem}"]],data:{}});function f(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,[" "," "])),(l()(),e["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,0,"i",[["class","ion-trash-b"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.removeInphone(l.context.$implicit)&&e),e},null,null))],null,function(l,n){l(n,2,0,n.context.$implicit.phone)})}function b(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,[" "," "])),(l()(),e["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,0,"i",[["class","ion-trash-b"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.removeOutphone(l.context.$implicit)&&e),e},null,null))],null,function(l,n){l(n,2,0,n.context.$implicit.phone)})}function C(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"li",[],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.setoutphone(l.context.$implicit)&&e),e},null,null)),(l()(),e["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.context.$implicit.phoneNumber)})}function _(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,117,"div",[["class","modal_area"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,116,"div",[["class","modal_dialog"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,1,"div",[["class","modal_header"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Edit User "])),(l()(),e["\u0275eld"](4,0,null,null,108,"div",[["class","modal_content"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,107,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e["\u0275nov"](l,7).onSubmit(u)&&t),"reset"===n&&(t=!1!==e["\u0275nov"](l,7).onReset()&&t),t},null,null)),e["\u0275did"](6,16384,null,0,d.p,[],null,null),e["\u0275did"](7,4210688,null,0,d.k,[[8,null],[8,null]],null,null),e["\u0275prd"](2048,null,d.c,null,[d.k]),e["\u0275did"](9,16384,null,0,d.j,[[4,d.c]],null,null),(l()(),e["\u0275eld"](10,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,9,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"label",[["for","exampleInputEmail1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["First Name"])),(l()(),e["\u0275eld"](15,0,null,null,5,"input",[["aria-describedby","emailHelp"],["class","form-control"],["name","fisrtname"],["placeholder","User Name"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e["\u0275nov"](l,16)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e["\u0275nov"](l,16).onTouched()&&t),"compositionstart"===n&&(t=!1!==e["\u0275nov"](l,16)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e["\u0275nov"](l,16)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.select_user.firstname=u)&&t),t},null,null)),e["\u0275did"](16,16384,null,0,d.d,[e.Renderer2,e.ElementRef,[2,d.a]],null,null),e["\u0275prd"](1024,null,d.g,function(l){return[l]},[d.d]),e["\u0275did"](18,671744,null,0,d.l,[[2,d.c],[8,null],[8,null],[6,d.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,d.h,null,[d.l]),e["\u0275did"](20,16384,null,0,d.i,[[4,d.h]],null,null),(l()(),e["\u0275eld"](21,0,null,null,9,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](22,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"label",[["for","exampleInputEmail1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Last Name"])),(l()(),e["\u0275eld"](25,0,null,null,5,"input",[["aria-describedby","emailHelp"],["class","form-control"],["name","lastname"],["placeholder","User Name"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e["\u0275nov"](l,26)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e["\u0275nov"](l,26).onTouched()&&t),"compositionstart"===n&&(t=!1!==e["\u0275nov"](l,26)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e["\u0275nov"](l,26)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.select_user.lastname=u)&&t),t},null,null)),e["\u0275did"](26,16384,null,0,d.d,[e.Renderer2,e.ElementRef,[2,d.a]],null,null),e["\u0275prd"](1024,null,d.g,function(l){return[l]},[d.d]),e["\u0275did"](28,671744,null,0,d.l,[[2,d.c],[8,null],[8,null],[6,d.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,d.h,null,[d.l]),e["\u0275did"](30,16384,null,0,d.i,[[4,d.h]],null,null),(l()(),e["\u0275eld"](31,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](32,0,null,null,4,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),e["\u0275eld"](33,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](34,0,null,null,1,"label",[["for","exampleInputPassword1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Email"])),(l()(),e["\u0275eld"](36,0,null,null,0,"input",[["class","form-control"],["placeholder","Email"],["readonly",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(l()(),e["\u0275eld"](37,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](38,0,null,null,9,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),e["\u0275eld"](39,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](40,0,null,null,1,"label",[["for","exampleInputPassword1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Password"])),(l()(),e["\u0275eld"](42,0,null,null,5,"input",[["class","form-control"],["name","password"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e["\u0275nov"](l,43)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e["\u0275nov"](l,43).onTouched()&&t),"compositionstart"===n&&(t=!1!==e["\u0275nov"](l,43)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e["\u0275nov"](l,43)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.select_user.password=u)&&t),t},null,null)),e["\u0275did"](43,16384,null,0,d.d,[e.Renderer2,e.ElementRef,[2,d.a]],null,null),e["\u0275prd"](1024,null,d.g,function(l){return[l]},[d.d]),e["\u0275did"](45,671744,null,0,d.l,[[2,d.c],[8,null],[8,null],[6,d.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,d.h,null,[d.l]),e["\u0275did"](47,16384,null,0,d.i,[[4,d.h]],null,null),(l()(),e["\u0275eld"](48,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](49,0,null,null,9,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](50,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](51,0,null,null,1,"label",[["for","exampleInputEmail1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Active Incoming #"])),(l()(),e["\u0275eld"](53,0,null,null,5,"input",[["aria-describedby","emailHelp"],["class","form-control"],["id","exampleInputEmail1"],["name","inphone"],["placeholder","Enter phone number"],["type","phone"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e["\u0275nov"](l,54)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e["\u0275nov"](l,54).onTouched()&&t),"compositionstart"===n&&(t=!1!==e["\u0275nov"](l,54)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e["\u0275nov"](l,54)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.inphone=u)&&t),t},null,null)),e["\u0275did"](54,16384,null,0,d.d,[e.Renderer2,e.ElementRef,[2,d.a]],null,null),e["\u0275prd"](1024,null,d.g,function(l){return[l]},[d.d]),e["\u0275did"](56,671744,null,0,d.l,[[2,d.c],[8,null],[8,null],[6,d.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,d.h,null,[d.l]),e["\u0275did"](58,16384,null,0,d.i,[[4,d.h]],null,null),(l()(),e["\u0275eld"](59,0,null,null,9,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](60,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](61,0,null,null,1,"label",[["for","exampleInputEmail1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Active Outgoing #"])),(l()(),e["\u0275eld"](63,0,null,null,5,"input",[["aria-describedby","emailHelp"],["class","form-control"],["id","exampleInputEmail1"],["name","outphone"],["placeholder","Enter phone number"],["readonly",""],["type","phone"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e["\u0275nov"](l,64)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e["\u0275nov"](l,64).onTouched()&&t),"compositionstart"===n&&(t=!1!==e["\u0275nov"](l,64)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e["\u0275nov"](l,64)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.outphone=u)&&t),t},null,null)),e["\u0275did"](64,16384,null,0,d.d,[e.Renderer2,e.ElementRef,[2,d.a]],null,null),e["\u0275prd"](1024,null,d.g,function(l){return[l]},[d.d]),e["\u0275did"](66,671744,null,0,d.l,[[2,d.c],[8,null],[8,null],[6,d.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,d.h,null,[d.l]),e["\u0275did"](68,16384,null,0,d.i,[[4,d.h]],null,null),(l()(),e["\u0275eld"](69,0,null,null,43,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](70,0,null,null,26,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](71,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](72,0,null,null,1,"label",[["for","exampleInputEmail1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Connected Incoming #"])),(l()(),e["\u0275eld"](74,0,null,null,9,"table",[["class","table table-hover"]],null,null,null,null,null)),(l()(),e["\u0275eld"](75,0,null,null,4,"thead",[],null,null,null,null,null)),(l()(),e["\u0275eld"](76,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Phone # "])),(l()(),e["\u0275eld"](78,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Action "])),(l()(),e["\u0275eld"](80,0,null,null,3,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,2,null,f)),e["\u0275did"](82,802816,null,0,s.l,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),e["\u0275pid"](0,r,[]),(l()(),e["\u0275eld"](84,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](85,0,null,null,1,"label",[["for","exampleInputEmail1"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Connected Outgoing #"])),(l()(),e["\u0275eld"](87,0,null,null,9,"table",[["class","table table-hover"]],null,null,null,null,null)),(l()(),e["\u0275eld"](88,0,null,null,4,"thead",[],null,null,null,null,null)),(l()(),e["\u0275eld"](89,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Phone # "])),(l()(),e["\u0275eld"](91,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Action "])),(l()(),e["\u0275eld"](93,0,null,null,3,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,2,null,b)),e["\u0275did"](95,802816,null,0,s.l,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),e["\u0275pid"](0,r,[]),(l()(),e["\u0275eld"](97,0,null,null,15,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](98,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),e["\u0275eld"](99,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Prefix"])),(l()(),e["\u0275eld"](101,0,null,null,5,"input",[["aria-describedby","emailHelp"],["class","phoneprefix"],["name","phoneprefix"],["placeholder","Enter prefix"],["type","phone"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e["\u0275nov"](l,102)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e["\u0275nov"](l,102).onTouched()&&t),"compositionstart"===n&&(t=!1!==e["\u0275nov"](l,102)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e["\u0275nov"](l,102)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.phoneprefix=u)&&t),t},null,null)),e["\u0275did"](102,16384,null,0,d.d,[e.Renderer2,e.ElementRef,[2,d.a]],null,null),e["\u0275prd"](1024,null,d.g,function(l){return[l]},[d.d]),e["\u0275did"](104,671744,null,0,d.l,[[2,d.c],[8,null],[8,null],[6,d.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,d.h,null,[d.l]),e["\u0275did"](106,16384,null,0,d.i,[[4,d.h]],null,null),(l()(),e["\u0275eld"](107,0,null,null,1,"button",[["class","btn btn-primary btn-raised"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.refreshAvailNumbers()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Refresh"])),(l()(),e["\u0275eld"](109,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e["\u0275eld"](110,0,null,null,2,"ul",[["class","phonewrapper"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,C)),e["\u0275did"](112,802816,null,0,s.l,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](113,0,null,null,4,"div",[["class","modal_footer"]],null,null,null,null,null)),(l()(),e["\u0275eld"](114,0,null,null,1,"button",[["class","btn btn-primary btn-danger"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.cancel()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Cancel"])),(l()(),e["\u0275eld"](116,0,null,null,1,"button",[["class","btn btn-primary btn-raised"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.update()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Update"]))],function(l,n){var u=n.component;l(n,18,0,"fisrtname",u.select_user.firstname),l(n,28,0,"lastname",u.select_user.lastname),l(n,45,0,"password",u.select_user.password),l(n,56,0,"inphone",u.inphone),l(n,66,0,"outphone",u.outphone),l(n,82,0,e["\u0275unv"](n,82,0,e["\u0275nov"](n,83).transform(u.inphones))),l(n,95,0,e["\u0275unv"](n,95,0,e["\u0275nov"](n,96).transform(u.outphones))),l(n,104,0,"phoneprefix",u.phoneprefix),l(n,112,0,u.twilio_phones)},function(l,n){var u=n.component;l(n,5,0,e["\u0275nov"](n,9).ngClassUntouched,e["\u0275nov"](n,9).ngClassTouched,e["\u0275nov"](n,9).ngClassPristine,e["\u0275nov"](n,9).ngClassDirty,e["\u0275nov"](n,9).ngClassValid,e["\u0275nov"](n,9).ngClassInvalid,e["\u0275nov"](n,9).ngClassPending),l(n,15,0,e["\u0275nov"](n,20).ngClassUntouched,e["\u0275nov"](n,20).ngClassTouched,e["\u0275nov"](n,20).ngClassPristine,e["\u0275nov"](n,20).ngClassDirty,e["\u0275nov"](n,20).ngClassValid,e["\u0275nov"](n,20).ngClassInvalid,e["\u0275nov"](n,20).ngClassPending),l(n,25,0,e["\u0275nov"](n,30).ngClassUntouched,e["\u0275nov"](n,30).ngClassTouched,e["\u0275nov"](n,30).ngClassPristine,e["\u0275nov"](n,30).ngClassDirty,e["\u0275nov"](n,30).ngClassValid,e["\u0275nov"](n,30).ngClassInvalid,e["\u0275nov"](n,30).ngClassPending),l(n,36,0,u.select_user.email),l(n,42,0,e["\u0275nov"](n,47).ngClassUntouched,e["\u0275nov"](n,47).ngClassTouched,e["\u0275nov"](n,47).ngClassPristine,e["\u0275nov"](n,47).ngClassDirty,e["\u0275nov"](n,47).ngClassValid,e["\u0275nov"](n,47).ngClassInvalid,e["\u0275nov"](n,47).ngClassPending),l(n,53,0,e["\u0275nov"](n,58).ngClassUntouched,e["\u0275nov"](n,58).ngClassTouched,e["\u0275nov"](n,58).ngClassPristine,e["\u0275nov"](n,58).ngClassDirty,e["\u0275nov"](n,58).ngClassValid,e["\u0275nov"](n,58).ngClassInvalid,e["\u0275nov"](n,58).ngClassPending),l(n,63,0,e["\u0275nov"](n,68).ngClassUntouched,e["\u0275nov"](n,68).ngClassTouched,e["\u0275nov"](n,68).ngClassPristine,e["\u0275nov"](n,68).ngClassDirty,e["\u0275nov"](n,68).ngClassValid,e["\u0275nov"](n,68).ngClassInvalid,e["\u0275nov"](n,68).ngClassPending),l(n,101,0,e["\u0275nov"](n,106).ngClassUntouched,e["\u0275nov"](n,106).ngClassTouched,e["\u0275nov"](n,106).ngClassPristine,e["\u0275nov"](n,106).ngClassDirty,e["\u0275nov"](n,106).ngClassValid,e["\u0275nov"](n,106).ngClassInvalid,e["\u0275nov"](n,106).ngClassPending),l(n,116,0,u.is_updating)})}function x(l){return e["\u0275vid"](0,[(l()(),e["\u0275and"](16777216,null,null,1,null,_)),e["\u0275did"](1,16384,null,0,s.m,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.is_show)},null)}var y=function(){function l(l,n,u){this.http=l,this.userservice=n,this.modalservice=u,this.boolean_data=[{value:0,text:"No"},{value:1,text:"Yes"}],this.status_data=[{value:0,text:"Inactive"},{value:1,text:"Active"}],this.users=[],this.selected_user={},this.selected=!1}return l.prototype.ngOnInit=function(){this.init()},l.prototype.init=function(){var l=this,n=new m.d;n.set("Authorization","auth "+this.userservice.getUserSession()),n.set("Content-Type","application/json"),console.log("session",this.userservice.getUserSession());var u=new m.g({headers:n});console.log(u),this.http.get(a.b+"admin/user/list/0",u).subscribe(function(n){var u=n.json();u.status==a.a.statuscode.success&&(console.log("data",u.data),l.users=u.data)})},l.prototype.itemClicked=function(l,n,u){"status"==u?n[u]=l.value:n.permissions[u]=l.value,this.updateUser(n)},l.prototype.updateUser=function(l){var n=new m.d;n.set("Authorization","auth "+this.userservice.getUserSession()),n.set("Content-Type","application/json"),console.log("session",this.userservice.getUserSession());var u=new m.g({headers:n});console.log(u),this.http.post(a.b+"admin/user/update",{user:l},u).subscribe(function(l){var n=l.json();n.status==a.a.statuscode.success&&console.log("data",n.data)})},l.prototype.removeUser=function(l){var n=this;this.componentRef=this.modalservice.openDialog("Question","Are you sure to remove this user?"),this.componentRef.instance.button_clicked.subscribe(function(u){if(1==u){console.log("YES");var e=new m.d;e.set("Authorization","auth "+n.userservice.getUserSession()),e.set("Content-Type","application/json"),console.log("session",n.userservice.getUserSession());var t=new m.g({headers:e});console.log(t),n.http.post(a.b+"admin/user/delete",{user:l},t).subscribe(function(u){var e=u.json();if(e.status==a.a.statuscode.success){console.log("data",e.data);var t=n.users.indexOf(l);t>-1&&n.users.splice(t,1)}})}else console.log("No")})},l.prototype.getActiveNumber=function(l){for(var n=l.length,u=0;u<n;u++){var e=l[u];if(e.status==a.a.user.phone.active)return e.phone}return""},l.prototype.edituser=function(l){this.selected_user=l,this.selected=!0,console.log(l)},l.prototype.userupdated=function(l){console.log(l),"done"==l&&this.init(),this.selected=!1},l}(),w=e["\u0275crt"]({encapsulation:0,styles:[["i[_ngcontent-%COMP%]{margin:0 5px}"]],data:{}});function k(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,26,"tr",[["class","no-top-border"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",""])),e["\u0275ppd"](3,2),(l()(),e["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](5,null,["",""])),(l()(),e["\u0275eld"](6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](7,null,["",""])),(l()(),e["\u0275eld"](8,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](9,null,["",""])),(l()(),e["\u0275eld"](10,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](11,null,["",""])),(l()(),e["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"app-listbox",[],null,[[null,"onItemClicked"],["document","click"]],function(l,n,u){var t=!0,o=l.component;return"document:click"===n&&(t=!1!==e["\u0275nov"](l,14).clickedOutside(u)&&t),"onItemClicked"===n&&(t=!1!==o.itemClicked(u,l.context.$implicit,"upload")&&t),t},o.b,o.a)),e["\u0275did"](14,638976,null,0,i.a,[],{dataToList:[0,"dataToList"],width:[1,"width"],currentValue:[2,"currentValue"]},{onItemClicked:"onItemClicked"}),(l()(),e["\u0275eld"](15,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,1,"app-listbox",[],null,[[null,"onItemClicked"],["document","click"]],function(l,n,u){var t=!0,o=l.component;return"document:click"===n&&(t=!1!==e["\u0275nov"](l,17).clickedOutside(u)&&t),"onItemClicked"===n&&(t=!1!==o.itemClicked(u,l.context.$implicit,"sendsms")&&t),t},o.b,o.a)),e["\u0275did"](17,638976,null,0,i.a,[],{dataToList:[0,"dataToList"],width:[1,"width"],currentValue:[2,"currentValue"]},{onItemClicked:"onItemClicked"}),(l()(),e["\u0275eld"](18,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](19,0,null,null,1,"app-listbox",[],null,[[null,"onItemClicked"],["document","click"]],function(l,n,u){var t=!0,o=l.component;return"document:click"===n&&(t=!1!==e["\u0275nov"](l,20).clickedOutside(u)&&t),"onItemClicked"===n&&(t=!1!==o.itemClicked(u,l.context.$implicit,"smsedit")&&t),t},o.b,o.a)),e["\u0275did"](20,638976,null,0,i.a,[],{dataToList:[0,"dataToList"],width:[1,"width"],currentValue:[2,"currentValue"]},{onItemClicked:"onItemClicked"}),(l()(),e["\u0275eld"](21,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](22,0,null,null,1,"app-listbox",[],null,[[null,"onItemClicked"],["document","click"]],function(l,n,u){var t=!0,o=l.component;return"document:click"===n&&(t=!1!==e["\u0275nov"](l,23).clickedOutside(u)&&t),"onItemClicked"===n&&(t=!1!==o.itemClicked(u,l.context.$implicit,"status")&&t),t},o.b,o.a)),e["\u0275did"](23,638976,null,0,i.a,[],{dataToList:[0,"dataToList"],width:[1,"width"],currentValue:[2,"currentValue"]},{onItemClicked:"onItemClicked"}),(l()(),e["\u0275eld"](24,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](25,0,null,null,0,"i",[["class","fa fa-trash-o"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.removeUser(l.context.$implicit)&&e),e},null,null)),(l()(),e["\u0275eld"](26,0,null,null,0,"i",[["class"," fa fa-pencil-square-o"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.edituser(l.context.$implicit)&&e),e},null,null))],function(l,n){var u=n.component;l(n,14,0,u.boolean_data,90,n.context.$implicit.permissions.upload),l(n,17,0,u.boolean_data,90,n.context.$implicit.permissions.sendsms),l(n,20,0,u.boolean_data,90,n.context.$implicit.permissions.smsedit),l(n,23,0,u.status_data,120,n.context.$implicit.status)},function(l,n){var u=n.component;l(n,2,0,e["\u0275unv"](n,2,0,l(n,3,0,e["\u0275nov"](n.parent,0),n.context.$implicit.created,"yyyy-MM-dd HH:mm a"))),l(n,5,0,n.context.$implicit.firstname+" "+n.context.$implicit.lastname),l(n,7,0,n.context.$implicit.email),l(n,9,0,u.getActiveNumber(n.context.$implicit.phone.outgoing)),l(n,11,0,u.getActiveNumber(n.context.$implicit.phone.incoming))})}function I(l){return e["\u0275vid"](0,[e["\u0275pid"](0,s.e,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,25,"table",[["class","table table-hover"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,21,"thead",[],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,20,"tr",[["class","black-muted-bg"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Date / Time\t"])),(l()(),e["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["User Name"])),(l()(),e["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Email"])),(l()(),e["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Outgoing #"])),(l()(),e["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Incoming #"])),(l()(),e["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Upload"])),(l()(),e["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["SendSms"])),(l()(),e["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\tSMS Edit"])),(l()(),e["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Status"])),(l()(),e["\u0275eld"](23,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\tAction"])),(l()(),e["\u0275eld"](25,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,k)),e["\u0275did"](27,802816,null,0,s.l,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](28,0,null,null,1,"app-useredit",[],null,[[null,"userupdated"]],function(l,n,u){var e=!0;return"userupdated"===n&&(e=!1!==l.component.userupdated(u)&&e),e},x,v)),e["\u0275did"](29,638976,null,0,g,[c.a,p.a,m.e,h.a],{user:[0,"user"],show:[1,"show"]},{userupdated:"userupdated"})],function(l,n){var u=n.component;l(n,27,0,u.users),l(n,29,0,u.selected_user,u.selected)},null)}var O=e["\u0275ccf"]("admin-userlist",y,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"admin-userlist",[],null,null,null,I,w)),e["\u0275did"](1,114688,null,0,y,[m.e,p.a,c.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),P=u("ZYCi"),M=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),R=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function E(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"admin-userlist",[],null,null,null,I,w)),e["\u0275did"](1,114688,null,0,y,[m.e,p.a,c.a],null,null),(l()(),e["\u0275eld"](2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e["\u0275did"](3,212992,null,0,P.q,[P.b,e.ViewContainerRef,e.ComponentFactoryResolver,[8,null],e.ChangeDetectorRef],null,null)],function(l,n){l(n,1,0),l(n,3,0)},null)}var T=e["\u0275ccf"]("app-usercontainer",M,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-usercontainer",[],null,null,null,E,R)),e["\u0275did"](1,114688,null,0,M,[],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),S=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),N=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function U(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" useradd works!\n"]))],null,null)}var A=e["\u0275ccf"]("app-useradd",S,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-useradd",[],null,null,null,U,N)),e["\u0275did"](1,114688,null,0,S,[],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),V=u("K19U"),$=function(){},D=u("PCNd");u.d(n,"UserModuleNgFactory",function(){return F});var F=e["\u0275cmf"](t,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[T,O,A,V.a]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,s.o,s.n,[e.LOCALE_ID,[2,s.y]]),e["\u0275mpd"](4608,d.q,d.q,[]),e["\u0275mpd"](1073742336,s.c,s.c,[]),e["\u0275mpd"](1073742336,P.p,P.p,[[2,P.u],[2,P.l]]),e["\u0275mpd"](1073742336,$,$,[]),e["\u0275mpd"](1073742336,D.a,D.a,[]),e["\u0275mpd"](1073742336,d.n,d.n,[]),e["\u0275mpd"](1073742336,d.e,d.e,[]),e["\u0275mpd"](1073742336,t,t,[]),e["\u0275mpd"](1024,P.j,function(){return[[{path:"",component:M,children:[{path:"list",component:y},{path:"add",component:S}]}]]},[])])})}}]);